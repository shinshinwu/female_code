= stylesheet_link_tag    'charts'

.splash-container
  .splash
    #pie-chart
    %p.splash-subhead
      How many female software engineers are in your company?
    %p
      %a.pure-button.pure-button-primary{:href => "companies/new"} Add Stats
.content-wrapper
  .content
    %h2.content-head.is-center As a female in Software Engineering, I feel...
    .pure-g
      - @thoughts.each do |thought|
        .l-box.pure-u-1.pure-u-md-1-2.pure-u-lg-1-4
          %blockquote.quotes
            = "... " + thought.thoughts
    %p
      .l-box.pure-u-1.pure-u-md-1-2.pure-u-lg-2-5
      .l-box.pure-u-1.pure-u-md-1-2.pure-u-lg-1-5
        %a.pure-button.pure-button-primary{:href => "users/new"} What's your thought?
  .content
    %h2.content-head.is-center Help to change the face of Software Engineering by share the cause
    .pure-g
      .l-box-lrg.pure-u-1.pure-u-md-1-5
      .l-box-lrg.pure-u-1.pure-u-md-3-5
        %p Place social media share links here
  .footer.l-box.is-center
    %span Made with <3 by
    %a{ href: "http://shinshinwu.github.io", title: "Anna Wu", target: "_blank" }
      Anna Wu


:javascript
  $(function () {
    $('#pie-chart').highcharts({
        chart: {
            plotBackgroundColor: '#F7F7F7',
            plotShadow: false,
            type: 'pie'
        },
        credits: { enabled: false },
        exporting: { enabled: false },
        title: {
            text: 'Female vs. Male Software Engineer Ratio'
        },
        tooltip: {
            pointFormat: 'Percentage: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                }
            }
        },
        series: [{
            name: 'Percentage',
            colorByPoint: true,
            data: [{
                name: 'Female Engineers',
                y: gon.female_percentage,
                sliced: true,
                selected: true,
                dataLabels: {
                  format: gon.female_engineers_num + ' <b>{point.name}</b><br />{point.percentage:.1f} %'
                }
            }, {
                name: 'Male Engineers',
                y: gon.male_percentage,
                dataLabels: {
                  format: gon.male_engineers_num + ' <b>{point.name}</b><br />{point.percentage:.1f} %'
                }
            }]
        }]
    });
  });